# -*- SH -*-

# LOAD SH AND BASH FUNCTIONS
source $GT_DIR/sh/functions.sh

# LOAD COLORS VARIABLES
load_colors

# ALLOWS GROUP TO SEE OUR NEW FILES
umask 002

# CUSTOM LIBRARY PATH
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:'/usr/local/lib/'

# ADD GEEKTIPS BINARIES TO THE PATH
export PATH=$GT_DIR/mbin:~/mbin:$PATH:/usr/sbin:/sbin

if require 'java'; then
    JAVA_HOME=/opt/java
    if [ -d $JAVA_HOME ]; then
	PATH=$PATH:$JAVA_HOME/bin
	export JAVA_HOME
    fi
fi

# CUSTOMIZE PATH FOR RUBY
if require 'ruby'; then
    RUBYVERSION_MINOR=$(ruby --version | grep -E -o '[0-9]\.[0-9]\.[0-9]')
    RUBYVERSION_MAJOR=$(echo $RUBYVERSION_MINOR | grep -E -o '[0-9]\.[0-9]')

    GEMBIN_MINOR=$HOME'/.gem/ruby/'$RUBYVERSION_MINOR'/bin'
    GEMBIN_MAJOR=$HOME'/.gem/ruby/'$RUBYVERSION_MAJOR'/bin'

    export PATH=$PATH$(test -d $GEMBIN_MINOR && echo :$GEMBIN_MINOR)
    export PATH=$PATH$(test -d $GEMBIN_MAJOR && echo :$GEMBIN_MAJOR)

    export RUBYOPT="rubygems"
    export RUBYLIB=$RUBYLIB:'/usr/local/lib'
fi

RABBIT_PATH='/usr/lib/erlang/lib/rabbitmq_server-1.5.5/sbin/'
export PATH=$PATH$(test -d $RABBIT_PATH && echo :$RABBIT_PATH)

